<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ç§äººå®šåˆ¶é«˜ç«¯è¯¾ç¨‹</title>
    <style>
        /* é¡¶çº§é¦™æ§Ÿé»‘é‡‘é…è‰² */
        :root { --primary: #D4AF37; --accent: #C5A059; --bg: #050505; --surface: #121212; --text-main: #E2E8F0; --text-sub: #8A92A3; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; margin: 0; padding: 0; }
        
        body { background: var(--bg); color: var(--text-main); font-family: "DIN Alternate", "Helvetica Neue", sans-serif; overflow-x: hidden; -webkit-font-smoothing: antialiased; }
        
        .header-brand { width: 100%; height: 60px; display: flex; align-items: center; justify-content: center; background: rgba(5, 5, 5, 0.85); position: sticky; top: 0; z-index: 50; border-bottom: 1px solid rgba(212, 175, 55, 0.15); backdrop-filter: blur(15px);}
        .brand-text { font-size: 18px; font-weight: 900; color: var(--primary); letter-spacing: 2px; }
        
        .intro-sec { padding: 25px 20px 15px; text-align: center; }
        .main-title { font-size: 22px; font-weight: 900; color: #fff; margin-bottom: 8px; letter-spacing: 1px;}
        .sub-title { font-size: 12px; color: var(--text-sub); line-height: 1.5; }

        .gallery-container { padding: 10px 15px 100px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        
        .sol-card { position: relative; height: 180px; border-radius: 16px; overflow: hidden; display: flex; flex-direction: column; justify-content: flex-end; cursor: pointer; border: 1px solid rgba(255,255,255,0.08); box-shadow: inset 0 0 30px rgba(0,0,0,0.8), 0 10px 20px rgba(0,0,0,0.5); transition: 0.3s; background: linear-gradient(145deg, #18181C, #050505); }
        .sol-card:active { transform: scale(0.96); border-color: var(--primary); box-shadow: 0 5px 15px rgba(212,175,55,0.2); }
        
        .watermark { position: absolute; right: -20px; bottom: -20px; width: 140px; height: 140px; opacity: 0.04; z-index: 1; pointer-events: none; }
        .watermark svg { width: 100%; height: 100%; fill: none; stroke: var(--primary); stroke-width: 1; }

        .card-content { padding: 15px; position: relative; z-index: 2; }
        .c-icon { margin-bottom: 10px; display: flex; align-items: center; }
        .c-icon svg { width: 28px; height: 28px; stroke: var(--primary); filter: drop-shadow(0 0 6px rgba(212,175,55,0.8)); }
        .c-title { font-size: 15px; font-weight: 900; color: #fff; margin-bottom: 6px; letter-spacing: 1px;}
        .c-desc { font-size: 11px; color: #888; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

        /* è¯¦æƒ…æ¨¡æ€æ¡† */
        .detail-modal { position: fixed; top: 100vh; left: 0; width: 100%; height: 100vh; background: var(--bg); z-index: 999; transition: top 0.5s cubic-bezier(0.2, 0.8, 0.2, 1); display: flex; flex-direction: column; }
        .detail-modal.show { top: 0; }

        .modal-header { height: 60px; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; background: rgba(5,5,5,0.95); border-bottom: 1px solid rgba(212,175,55,0.2); backdrop-filter: blur(10px); }
        .modal-title { font-size: 16px; font-weight: bold; color: var(--primary); }
        .close-btn { color: #fff; font-size: 24px; font-weight: bold; background: none; border: none; padding: 0 10px; }

        .modal-body { flex: 1; overflow-y: auto; padding: 20px 20px 140px; -webkit-overflow-scrolling: touch; }
        
        .hero-banner { border: 1px solid rgba(212, 175, 55, 0.3); border-radius: 16px; padding: 25px 20px; margin-bottom: 25px; background: linear-gradient(145deg, #16161A, #050505); box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative; overflow: hidden;}
        .hero-watermark { position: absolute; right: -30px; top: -30px; width: 150px; height: 150px; opacity: 0.03; pointer-events: none; }
        .hero-watermark svg { width: 100%; height: 100%; fill: none; stroke: var(--primary); stroke-width: 1; }
        .m-hero-title { font-size: 22px; font-weight: 900; color: #fff; margin-bottom: 10px; letter-spacing: 1px; position: relative; z-index: 2;}
        .m-hero-desc { font-size: 13px; color: var(--text-sub); line-height: 1.6; position: relative; z-index: 2;}
        
        .phase-title-main { font-size: 14px; color: #888; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; border-top: 1px solid #222; padding-top: 25px; letter-spacing: 1px;}
        
        /* è´­ç‰©å¼ç‚¹é€‰æ¡† */
        .phase-box { border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; padding: 20px; position: relative; margin-bottom: 20px; background: #0a0a0c; cursor: pointer; transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .phase-box.selected { border-color: rgba(212,175,55,0.6); background: linear-gradient(145deg, rgba(212,175,55,0.08), #050505); box-shadow: 0 10px 25px rgba(212,175,55,0.15); }
        .check-circle { position: absolute; top: 20px; right: 20px; width: 22px; height: 22px; border-radius: 50%; border: 2px solid #444; display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .phase-box.selected .check-circle { border-color: var(--primary); background: var(--primary); }
        .check-circle::after { content: 'âœ“'; color: #000; font-size: 14px; font-weight: 900; opacity: 0; transition: 0.3s; margin-top: 2px;}
        .phase-box.selected .check-circle::after { opacity: 1; }

        .p-step { font-size: 11px; color: #888; font-weight: bold; letter-spacing: 2px; margin-bottom: 12px;}
        .phase-box.selected .p-step { color: var(--primary); }
        
        .p-cycle-highlight { display: flex; flex-direction: column; gap: 6px; background: linear-gradient(90deg, rgba(212, 175, 55, 0.1), transparent); border-left: 3px solid #444; padding: 10px 12px; margin-bottom: 18px; border-radius: 0 8px 8px 0; transition: 0.3s; }
        .phase-box.selected .p-cycle-highlight { border-left-color: var(--primary); background: linear-gradient(90deg, rgba(212, 175, 55, 0.2), transparent); }

        .cycle-row { display: flex; align-items: center; gap: 8px; font-size: 14px; font-weight: 900; color: #888; letter-spacing: 1px; transition: 0.3s;}
        .phase-box.selected .cycle-row { color: #fff; }
        .cycle-row .icon { font-size: 16px; color: #555; margin-top: -2px; transition: 0.3s;}
        .phase-box.selected .cycle-row .icon { color: var(--primary); }
        .cycle-row .highlight-text { color: #888; }
        .phase-box.selected .cycle-row .highlight-text { color: var(--primary); text-shadow: 0 0 10px rgba(212,175,55,0.4); }
        
        .p-name { font-size: 18px; font-weight: 900; color: #888; margin-bottom: 15px; transition: 0.3s;}
        .phase-box.selected .p-name { color: #fff; }
        
        .sales-points { display: flex; flex-direction: column; gap: 12px; opacity: 0.5; transition: 0.3s; }
        .phase-box.selected .sales-points { opacity: 1; }
        .sp-row { display: flex; align-items: flex-start; gap: 10px; font-size: 13px; line-height: 1.6; }
        .sp-tag { flex-shrink: 0; font-size: 11px; font-weight: bold; padding: 3px 8px; border-radius: 4px; border: 1px solid; }
        .tag-goal { color: #aaa; border-color: #555; background: rgba(255,255,255,0.05); }
        .tag-tech { color: #C5A059; border-color: rgba(212,175,55,0.4); background: rgba(212,175,55,0.05); }
        .tag-feel { color: #000; border-color: var(--primary); background: var(--primary); }
        .sp-text { color: #ccc; }
        .sp-text strong { color: var(--primary); font-weight: bold; }

        /* ğŸš¨ æ ¸å¿ƒå‡çº§ä¸€ï¼šå¯è§†åŒ–æŠ•å°„å›¾æ›¿ä»£é›·è¾¾ */
        .visual-feedback-section { margin-top: 30px; background: #0a0a0c; border: 1px solid rgba(212, 175, 55, 0.15); border-radius: 16px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .fb-header { text-align: center; font-size: 15px; font-weight: 900; color: var(--primary); margin-bottom: 15px; letter-spacing: 2px; }
        .visual-card { width: 100%; height: 240px; border-radius: 12px; overflow: hidden; position: relative; border: 1px solid rgba(255,255,255,0.1); background: #111;}
        .visual-img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.6) contrast(1.2); transition: all 0.5s ease-in-out; }
        .visual-overlay { position: absolute; bottom: 0; left: 0; width: 100%; padding: 30px 15px 15px; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); display: flex; flex-direction: column; justify-content: flex-end; }
        .visual-title { color: var(--primary); font-size: 18px; font-weight: 900; letter-spacing: 1px; margin-bottom: 4px; text-shadow: 0 2px 5px rgba(0,0,0,0.8);}
        .visual-desc { color: #ddd; font-size: 12px; }

        /* ğŸš¨ æ ¸å¿ƒå‡çº§äºŒï¼šå¸¦æœ‰æ™ºèƒ½æŠ¥ä»·çš„è´­ç‰©è½¦åº•æ  */
        .checkout-bar { position: fixed; bottom: 0; left: 0; width: 100%; padding: 15px 20px 25px; background: rgba(10, 10, 12, 0.98); border-top: 1px solid rgba(212,175,55,0.3); box-shadow: 0 -10px 30px rgba(0,0,0,0.8); z-index: 100; backdrop-filter: blur(15px); display: flex; justify-content: space-between; align-items: center; }
        
        .checkout-info { display: flex; flex-direction: column; gap: 4px; }
        .c-info-label { font-size: 11px; color: #888; font-weight: bold; letter-spacing: 1px; }
        .c-info-val { font-size: 15px; font-weight: 900; color: #fff; display: flex; align-items: baseline; gap: 4px;}
        .c-info-val span { font-size: 11px; color: #888; font-weight: normal; }
        .c-info-price { font-size: 18px; font-weight: 900; color: var(--primary); text-shadow: 0 0 10px rgba(212,175,55,0.4); margin-top: 2px;}

        .btn-checkout { background: linear-gradient(135deg, var(--primary), #AA8A2A); color: #000; border: none; padding: 14px 18px; border-radius: 12px; font-size: 14px; font-weight: 900; box-shadow: 0 8px 20px rgba(212, 175, 55, 0.3); cursor: pointer; transition: 0.3s; }
        .btn-checkout:active { transform: scale(0.96); }
        .btn-checkout.disabled { background: #333; color: #666; box-shadow: none; pointer-events: none; }
    </style>
</head>
<body>

    <div class="header-brand">
        <div class="brand-text">ç§äººå®šåˆ¶é«˜ç«¯è¯¾ç¨‹</div>
    </div>

    <div class="intro-sec">
        <div class="main-title">å…­å¤§å°Šäº«é‡å¡‘çŸ©é˜µ</div>
        <div class="sub-title">ç³»ç»Ÿå·²æ ¹æ®æ‚¨çš„åŒ»å­¦æ’æŸ¥ä¸ä½“æ€è¯„ä¼°ï¼Œå¼€æ”¾ä»¥ä¸‹é¶å‘é‡å¡‘æ–¹æ¡ˆã€‚</div>
    </div>

    <div class="gallery-container">
        <div class="sol-card" onclick="openDetail('posture')">
            <div class="watermark"><svg viewBox="0 0 24 24"><path d="M12 5v14"/><path d="M8 9l4-4 4 4"/><path d="M8 19l4 4 4-4"/></svg></div>
            <div class="card-content"><div class="c-icon"><svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14"/><path d="M8 9l4-4 4 4"/><path d="M8 19l4 4 4-4"/></svg></div><div class="c-title">ä½“æ€çŸ«æ­£ä¸ç»“æ„ä¼˜åŒ–</div><div class="c-desc">æ¾è§£å—é™ç­‹è†œï¼Œé‡å»ºè„ŠæŸ±ä¸­ç«‹ä½ï¼Œå½»åº•æ‹”é™¤è‚©é¢ˆè…°èƒŒç–¼ç—›æ ¹æºã€‚</div></div>
        </div>
        <div class="sol-card" onclick="openDetail('fatloss')">
            <div class="watermark"><svg viewBox="0 0 24 24"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg></div>
            <div class="card-content"><div class="c-icon"><svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg></div><div class="c-title">é«˜æ•ˆç‡ƒè„‚ä¸ä»£è°¢æ¿€æ´»</div><div class="c-desc">çªç ´é¡½å›ºå¹³å°æœŸï¼Œç§‘å­¦å‰¥ç¦»å†…è„è„‚è‚ªï¼Œæ‰“é€ å…¨å¤©å€™é«˜ä»£è°¢ä½“è´¨ã€‚</div></div>
        </div>
        <div class="sol-card" onclick="openDetail('shape')">
            <div class="watermark"><svg viewBox="0 0 24 24"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg></div>
            <div class="card-content"><div class="c-icon"><svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg></div><div class="c-title">Så‹æ›²çº¿ç²¾é›•è®­ç»ƒ</div><div class="c-desc">ä¸“æ”»èœœæ¡ƒè‡€ã€é©¬ç”²çº¿ä¸ç›´è§’è‚©ï¼Œé€šè¿‡è‚Œè‚¥å¤§å¡«å……å¡‘é€ æè‡´æ¯”ä¾‹ã€‚</div></div>
        </div>
        <div class="sol-card" onclick="openDetail('postpartum')">
            <div class="watermark"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></div>
            <div class="card-content"><div class="c-icon"><svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></div><div class="c-title">äº§åæ ¸å¿ƒä¸ä½“å½¢æ¢å¤</div><div class="c-desc">é¿å¼€é«˜å±å·è…¹ï¼Œå†…æºæ€§é—­åˆè…¹ç›´è‚Œï¼Œå®‰å…¨æœ‰æ•ˆåœ°æ¢å¤ç›†åº•è‚Œæœºèƒ½ã€‚</div></div>
        </div>
        <div class="sol-card" onclick="openDetail('rehab')">
            <div class="watermark"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>
            <div class="card-content"><div class="c-icon"><svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div><div class="c-title">è¿åŠ¨åŠŸèƒ½æå‡ä¸é˜²æŠ¤</div><div class="c-desc">æ¶ˆé™¤å…³èŠ‚å¼¹å“ä¸è¿åŠ¨åˆºç—›ï¼Œå¼ºåŒ–æ·±å±‚å°è‚Œç¾¤ï¼Œé‡å»ºå…³èŠ‚åŠ›å­¦æŠ¤ç”²ã€‚</div></div>
        </div>
        <div class="sol-card" onclick="openDetail('antiaging')">
            <div class="watermark"><svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div>
            <div class="card-content"><div class="c-icon"><svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div><div class="c-title">æ´»åŠ›ä½“èƒ½ä¸çŠ¶æ€ç„•æ–°</div><div class="c-desc">é€šè¿‡æŠ—é˜»åŠ›åˆºæ¿€æˆéª¨ç»†èƒï¼Œæå‡éª¨å¯†åº¦ä¸å¿ƒè‚ºå¼•æ“ï¼Œå¯¹æŠ—æœºèƒ½è¡°è€ã€‚</div></div>
        </div>
    </div>

    <div class="detail-modal" id="detailModal">
        <div class="modal-header">
            <div class="modal-title" id="m-header-title">å®šåˆ¶è·¯å¾„æ¨æ¼”</div>
            <button class="close-btn" onclick="closeDetail()">Ã—</button>
        </div>
        
        <div class="modal-body" id="modalBody"></div>
        
        <div class="checkout-bar">
            <div class="checkout-info">
                <div class="c-info-label">ç³»ç»Ÿæ™ºèƒ½æ ¸ç®—æŠ•èµ„é¢</div>
                <div class="c-info-val" id="calc-val">-- <span>èŠ‚</span></div>
                <div class="c-info-price" id="calc-price">Â¥ --</div>
            </div>
            <button class="btn-checkout disabled" id="btn-checkout" onclick="window.location.href='./price.html'">
                ç¡®è®¤å¹¶å‰å¾€æŠ¥ä»·å• â”
            </button>
        </div>
    </div>

    <script>
        // ğŸš¨ æ ¸å¿ƒè®¡ä»·å¼•æ“ï¼šè‡ªåŠ¨åŒ¹é…çœŸå®ä»·æ ¼è¡¨
        // å¸¸è§„ï¼š<24èŠ‚:440, 24-47èŠ‚:420, 48-71èŠ‚:400, 72-99èŠ‚:380, 100èŠ‚+:350
        // ç‰¹è‰²ï¼š<24èŠ‚:460, 24-47èŠ‚:440, 48-71èŠ‚:420, 72-99èŠ‚:400, 100èŠ‚+:380
        const priceTiers = {
            'regular': [ { t: 100, p: 350 }, { t: 72, p: 380 }, { t: 48, p: 400 }, { t: 24, p: 420 }, { t: 0, p: 440 } ],
            'feature': [ { t: 100, p: 380 }, { t: 72, p: 400 }, { t: 48, p: 420 }, { t: 24, p: 440 }, { t: 0, p: 460 } ]
        };

        function getUnitPrice(sessions, type) {
            for (let tier of priceTiers[type]) {
                if (sessions >= tier.t) return tier.p;
            }
            return priceTiers[type][priceTiers[type].length - 1].p;
        }

        // æ ¼å¼åŒ–é‡‘é¢ (ä¾‹å¦‚: 10080 -> 10,080)
        function formatMoney(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        const planData = {
            'posture': {
                type: 'feature', // ç‰¹è‰²è¯¾å®šä»·
                icon: '<svg viewBox="0 0 24 24"><path d="M12 5v14"/><path d="M8 9l4-4 4 4"/><path d="M8 19l4 4 4-4"/></svg>',
                title: 'ä½“æ€çŸ«æ­£ä¸ç»“æ„ä¼˜åŒ–', desc: 'ç‰©ç†å±‚é¢çš„ç»“æ„é‡ç»„ï¼Œå½»åº•åˆ‡æ–­ç–¼ç—›ä»£å¿ã€‚',
                p1_name: 'ç­‹è†œè§£ç»‘ä¸ç—›ç‚¹æ¸…é›¶', p1_time: 'é¦–æœˆçªå‡» (ç¬¬ 1-4 å‘¨)', p1_sessions: '12 - 16 èŠ‚', p1_min: 12, p1_max: 16,
                p1_goal: '<strong>æ‰“ç ´éª¨éª¼é”™è¯¯æ’åˆ—</strong>ï¼Œæ¢å¤å…³èŠ‚æ´»åŠ¨åº¦ã€‚', p1_tech: 'æ·±å±‚å‰¥ç¦»èƒ¸å°è‚Œä¸é«‚è…°è‚Œã€‚', p1_feel: 'ç»ƒå®Œç«‹åˆ»æ„Ÿè§‰<strong>è‚©é¢ˆå½»åº•æ”¾æ¾</strong>ã€‚',
                p2_name: 'å¼±ç‚¹å”¤é†’ä¸æ ¸å¿ƒé‡æ„', p2_time: 'æ·±åº¦é‡å¡‘ (ç¬¬ 2-3 ä¸ªæœˆ)', p2_sessions: '24 - 36 èŠ‚', p2_min: 24, p2_max: 36,
                p2_goal: '<strong>æ¿€æ´»ä¼‘çœ çš„è‚Œè‚‰</strong>ï¼Œå»ºç«‹å¤©ç„¶è‚Œè‚‰å†…è¡£ã€‚', p2_tech: 'æ™®æ‹‰æå­¤ç«‹æ€§å‹Ÿé›†è…¹æ¨ªè‚Œã€‚', p2_feel: 'æ ¸å¿ƒäº§ç”Ÿ<strong>å¼ºçƒˆçš„æ”¯æ’‘æ„Ÿ</strong>ã€‚',
                p3_name: 'åŠ¨ä½œæ¨¡å¼å›ºåŒ–å®šå‹', p3_time: 'åŠå¹´å›ºåŒ– (ç¬¬ 4-6 ä¸ªæœˆ)', p3_sessions: '48 - 72 èŠ‚', p3_min: 48, p3_max: 72,
                p3_goal: 'å°†æ­£ç¡®æ’åˆ—<strong>åˆ»å…¥ç¥ç»æ½œæ„è¯†</strong>ã€‚', p3_tech: 'å¤åˆæŠ—é˜»ç»“åˆç”Ÿæ´»è½¨è¿¹äºŒæ¬¡é‡å¡‘ã€‚', p3_feel: 'ä¸è‡ªè§‰åœ°<strong>ä¿æŒæŒºæ‹”é«˜å§¿æ€</strong>ã€‚',
                // 3ä¸ªé˜¶æ®µçš„è§†è§‰æŠ•å°„å¤§å›¾
                img1: 'https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?auto=format&fit=crop&w=600&q=80',
                img2: 'https://images.unsplash.com/photo-1552196563-55cd4e45efb3?auto=format&fit=crop&w=600&q=80',
                img3: 'https://images.unsplash.com/photo-1518611012118-696072aa579a?auto=format&fit=crop&w=600&q=80',
                txt1: 'åˆæœŸæ”¹å–„ï¼šå¼‚å¸¸å¼ åŠ›é‡Šæ”¾ï¼Œå«èƒ¸é©¼èƒŒå¥½è½¬',
                txt2: 'è¿›é˜¶èœ•å˜ï¼šæ ¸å¿ƒå»ºç«‹ï¼Œè‚©é¢ˆèˆ’å±•ï¼Œæ°”è´¨åˆæ˜¾',
                txt3: 'ç»ˆæå®šå‹ï¼šè„ŠæŸ±ä¸­ç«‹ï¼Œä½“æ€ä¼˜ç¾ï¼Œå®Œç¾æ°”åœº'
            },
            'fatloss': {
                type: 'regular', // å¸¸è§„è¯¾å®šä»·
                icon: '<svg viewBox="0 0 24 24"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>',
                title: 'é«˜æ•ˆç‡ƒè„‚ä¸ä»£è°¢æ¿€æ´»', desc: 'é‡å†™èº«ä½“åŸºå› ï¼Œæ‰“é€ â€œ24å°æ—¶æŒç»­ç‡ƒè„‚çš„ç«ç‚‰â€ã€‚',
                p1_name: 'ç³–åŸæ’ç©ºä¸ä»£è°¢å”¤é†’', p1_time: 'é¦–æœˆçªå‡» (ç¬¬ 1-4 å‘¨)', p1_sessions: '12 - 16 èŠ‚', p1_min: 12, p1_max: 16,
                p1_goal: '<strong>å¼ºè¡Œåˆ‡å…¥è„‚è‚ªæ°§åŒ–é€šé“</strong>ã€‚', p1_tech: 'å¾ªç¯æŠ—é˜»é…åˆä½GIé¥®é£Ÿå¹²é¢„ã€‚', p1_feel: '<strong>æ’å¹²ä½“å†…æ°´è‚¿</strong>ï¼Œä½“é‡æ‰ç§¤æå¿«ã€‚',
                p2_name: 'é«˜å®¹é‡é¡½å›ºè„‚è‚ªå‰¥ç¦»', p2_time: 'æé€Ÿç‡ƒè„‚ (ç¬¬ 2-3 ä¸ªæœˆ)', p2_sessions: '24 - 36 èŠ‚', p2_min: 24, p2_max: 36,
                p2_goal: 'é¶å‘æ¸…ç†å†…è„è„‚è‚ªï¼Œ<strong>å¼ºåŠ›çªç ´å¹³å°æœŸ</strong>ã€‚', p2_tech: 'HIITæ¿€å‘å¼ºçƒˆåç‡ƒæ•ˆåº”(EPOC)ã€‚', p2_feel: '<strong>è…°è…¹å›´åº¦æ˜æ˜¾ç¼©å°</strong>ï¼Œç©¿è¡£å®½æ¾ã€‚',
                p3_name: 'æ˜“ç˜¦ä½“è´¨ç»ˆæå®šå‹', p3_time: 'åŠå¹´/å¹´åº¦ (ç¬¬ 4-12 ä¸ªæœˆ)', p3_sessions: '48 - 100 èŠ‚', p3_min: 48, p3_max: 100,
                p3_goal: 'è®©èº«ä½“åœ¨<strong>ç¡çœ ä¸­æŒç»­ç‡ƒçƒ§çƒ­é‡</strong>ã€‚', p3_tech: 'è‚Œè‚¥å¤§è®­ç»ƒæå‡è‚Œè‚‰å‚¨å¤‡ã€‚', p3_feel: 'ä½“èƒ½å……æ²›ï¼Œ<strong>æ”¾çºµåƒå–ä¸å†åå¼¹</strong>ã€‚',
                img1: 'https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?auto=format&fit=crop&w=600&q=80',
                img2: 'https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?auto=format&fit=crop&w=600&q=80',
                img3: 'https://images.unsplash.com/photo-1608228068998-508b5155f694?auto=format&fit=crop&w=600&q=80',
                txt1: 'åˆæœŸæ•ˆæœï¼šæ°´è‚¿æ’ç©ºï¼Œä½“èƒ½æé€Ÿå”¤é†’',
                txt2: 'è¿›é˜¶æ•ˆæœï¼šå›´åº¦æ˜æ˜¾ç¼©å°ï¼Œå†…è„è„‚è‚ªå‰¥ç¦»',
                txt3: 'ç»ˆæå®šå‹ï¼šä½“è„‚é™è‡³æä½ï¼Œé©¬ç”²çº¿æ¸…æ™°ï¼Œå½»åº•å˜èº«'
            },
            'shape': {
                type: 'regular', 
                icon: '<svg viewBox="0 0 24 24"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg>',
                title: 'Så‹æ›²çº¿ç²¾é›•è®­ç»ƒ', desc: 'ç‰©ç†å‰¥ç¦»ä¸3Då¡«å……ï¼Œæ‰“é€ æå…·è§†è§‰æ€ä¼¤åŠ›çš„èº«ææ¯”ä¾‹ã€‚',
                p1_name: 'ç›®æ ‡é¶å‘æé€Ÿæ¿€æ´»', p1_time: 'é¦–æœˆå”¤é†’ (ç¬¬ 1-4 å‘¨)', p1_sessions: '12 - 16 èŠ‚', p1_min: 12, p1_max: 16,
                p1_goal: 'çº æ­£é”™è¯¯å‘åŠ›ï¼Œé¿å…<strong>â€œç»ƒè‡€å…ˆç²—è…¿â€</strong>ã€‚', p1_tech: 'å­¤ç«‹å”¤é†’è‡€å¤§è‚Œä¸Šéƒ¨ã€ä¸‰è§’è‚Œä¸­æŸã€‚', p1_feel: 'ä½“ä¼šåˆ°ç›®æ ‡è‚Œè‚‰<strong>é…¸èƒ€å‘çƒ­æ³µæ„Ÿ</strong>ã€‚',
                p2_name: 'å¼±ç‚¹åŒºåŸŸ3Dç‰©ç†å¡«å……', p2_time: 'ç»´åº¦ç”Ÿé•¿ (ç¬¬ 2-3 ä¸ªæœˆ)', p2_sessions: '24 - 36 èŠ‚', p2_min: 24, p2_max: 36,
                p2_goal: 'å®ç°å±€éƒ¨çš„<strong>é¥±æ»¡åº¦å¡«å……</strong>ã€‚', p2_tech: 'æ¸è¿›å¼è¶…è´Ÿè·ï¼Œæ…¢é€Ÿç¦»å¿ƒæ”¶ç¼©æ§åˆ¶ã€‚', p2_feel: '<strong>èœœæ¡ƒè‡€é€æ¸é¥±æ»¡ä¸Šç¿˜</strong>ï¼Œè‚©çº¿å¹³ç›´ã€‚',
                p3_name: 'è§†è§‰æ¯”ä¾‹æ‹‰æ‰¯ç²¾é›•', p3_time: 'åŠå¹´/å¹´åº¦ (ç¬¬ 4-12 ä¸ªæœˆ)', p3_sessions: '48 - 100 èŠ‚', p3_min: 48, p3_max: 100,
                p3_goal: 'å¼ºè¡Œå‘ˆç°å‡º<strong>æè‡´çš„æ¼æ–—å½¢æ›²çº¿</strong>ã€‚', p3_tech: 'å¼ºåŒ–èƒŒéƒ¨é˜”åº¦ï¼Œæè‡´å‹ç¼©è…°å›´æ•°æ®ã€‚', p3_feel: 'Sæ›²çº¿å®Œå…¨å›ºåŒ–ï¼Œ<strong>æ‹ç…§è‡ªå¸¦é«˜çº§æ„Ÿ</strong>ã€‚',
                img1: 'https://images.unsplash.com/photo-1574680096145-d05b474e2155?auto=format&fit=crop&w=600&q=80',
                img2: 'https://images.unsplash.com/photo-1508215885820-4585e5610ea0?auto=format&fit=crop&w=600&q=80',
                img3: 'https://images.unsplash.com/photo-1605296867304-46d5465a13f1?auto=format&fit=crop&w=600&q=80',
                txt1: 'åˆæœŸå”¤é†’ï¼šè‡€éƒ¨è‚Œè‚‰è‹é†’ï¼Œå‘åŠ›æ„Ÿå»ºç«‹',
                txt2: 'è¿›é˜¶å¡«å……ï¼šå±€éƒ¨é¥±æ»¡åº¦æå‡ï¼Œè‡€çº¿æé«˜',
                txt3: 'ç»ˆæå®šå‹ï¼šå®Œç¾è…°è‡€æ¯”ï¼Œæå…·è§†è§‰æ€ä¼¤åŠ›Sæ›²çº¿'
            },
            'postpartum': {
                type: 'feature',
                icon: '<svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>',
                title: 'äº§åæ ¸å¿ƒä¸ä½“å½¢æ¢å¤', desc: 'æ— ç—›å®‰å…¨ç¼åˆè…¹ç›´è‚Œè£‚éš™ï¼ŒåŠ©æ‚¨é‡è¿”å°‘å¥³çº§å¥åº·ä½“æ€ã€‚',
                p1_name: 'ç›†åº•è‚Œä¸å†…æºå®‰å…¨ä¿®å¤', p1_time: 'é¦–æœˆå†…æºä¿®å¤ (1-4å‘¨)', p1_sessions: '10 - 15 èŠ‚', p1_min: 10, p1_max: 15,
                p1_goal: 'é‡å»ºç›†åº•åŠŸèƒ½ï¼Œ<strong>ç»å¯¹ç¦æ­¢ä¼ ç»Ÿå·è…¹</strong>ã€‚', p1_tech: 'æ¨ªå‘å‘¼å¸æ³•æ¸©å’Œå”¤é†’è…¹æ¨ªè‚Œã€‚', p1_feel: '<strong>æ¼å°¿æ”¹å–„</strong>ï¼Œæ ¸å¿ƒè„å™¨æœ‰å½’ä½æ„Ÿã€‚',
                p2_name: 'è…¹ç›´è‚Œç‰©ç†é—­åˆ', p2_time: 'é»„é‡‘æ¢å¤ (ç¬¬ 2-3 ä¸ªæœˆ)', p2_sessions: '20 - 30 èŠ‚', p2_min: 20, p2_max: 30,
                p2_goal: 'å®‰å…¨ç¼åˆè…¹éƒ¨è£‚éš™ï¼Œæ”¹å–„<strong>éª¨ç›†å‰å€¾</strong>ã€‚', p2_tech: 'æŠ—æ—‹è½¬ä¸æŠ—ä¼¸å±•è®­ç»ƒï¼Œå¼ºåŒ–æ·±å±‚æ ¸å¿ƒã€‚', p2_feel: 'é—´è·è‚‰çœ¼æ”¶çª„ï¼Œ<strong>è…°èƒŒé…¸ç—›å¤§å¹…ç¼“è§£</strong>ã€‚',
                p3_name: 'æ¸©å’Œå‡è„‚ä¸çš®è‚¤æ”¶ç´§', p3_time: 'åŠå¹´å·©å›º (ç¬¬ 4-6 ä¸ªæœˆ)', p3_sessions: '40 - 60 èŠ‚', p3_min: 40, p3_max: 60,
                p3_goal: 'åœ¨å®‰å…¨å‰æä¸‹ï¼Œ<strong>å‰¥ç¦»å­•æœŸå›¤ç§¯è„‚è‚ª</strong>ã€‚', p3_tech: 'æ— è·³è·ƒæ¸©å’ŒæŠ—é˜»ä»£è°¢ç»„ã€‚', p3_feel: 'é€æ­¥<strong>ç©¿å›å­•å‰å°ºç è¡£æœ</strong>ï¼Œçš®è‚¤æ¢å¤å¼¹æ€§ã€‚',
                img1: 'https://images.unsplash.com/photo-1618955042416-21a38b68d471?auto=format&fit=crop&w=600&q=80',
                img2: 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&w=600&q=80',
                img3: 'https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&w=600&q=80',
                txt1: 'åˆæœŸæ¢å¤ï¼šç›†åº•æ¿€æ´»ï¼Œè…°è…¹åŠŸèƒ½é‡å»º',
                txt2: 'è¿›é˜¶ç¼åˆï¼šè…¹ç›´è‚Œé—­åˆï¼Œæ ¸å¿ƒåŠ›é‡å›å½’',
                txt3: 'ç»ˆæä½“æ€ï¼šé‡è¿”å°‘å¥³ç´§è‡´æ„Ÿï¼Œè„‚è‚ªå‰¥ç¦»å®Œæ¯•'
            },
            'rehab': {
                type: 'feature',
                icon: '<svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>',
                title: 'è¿åŠ¨åŠŸèƒ½æå‡ä¸é˜²æŠ¤', desc: 'ç²¾å‡†ç¥ç»è‚Œè‚‰è°ƒæ§ï¼Œé‡å»ºå—æŸå…³èŠ‚åŠ›å­¦ç¨³å®šæ€§ã€‚',
                p1_name: 'ç‚ç—‡æ¶ˆé™¤ä¸ä»£å¿åˆ‡æ–­', p1_time: 'é¦–æœˆé•‡ç—› (ç¬¬ 1-4 å‘¨)', p1_sessions: '10 - 15 èŠ‚', p1_min: 10, p1_max: 15,
                p1_goal: 'æ‰¾å‡ºå¼•èµ·ç–¼ç—›çš„<strong>é”™è¯¯å‘åŠ›æº</strong>ã€‚', p1_tech: 'æ¿€ç—›ç‚¹æŒ‰å‹æŠ€æœ¯é‡Šæ”¾ä»£å¿å…³èŠ‚ã€‚', p1_feel: '<strong>å¼¹å“å‡å°‘</strong>ï¼Œå°–é”åˆºç—›æ„Ÿæ¶ˆå¤±ã€‚',
                p2_name: 'å—æŸå…³èŠ‚è‚Œè‚‰æŠ¤ç”²æ„å»º', p2_time: 'æŠ¤ç”²å¼ºåŒ– (ç¬¬ 2-3 ä¸ªæœˆ)', p2_sessions: '20 - 30 èŠ‚', p2_min: 20, p2_max: 30,
                p2_goal: 'å¢å¼ºéŸ§å¸¦å¼ºåº¦ï¼Œæ‰“é€ <strong>ç”Ÿç‰©æŠ¤è†æŠ¤è…°</strong>ã€‚', p2_tech: 'æ— ç—›è§’åº¦å†…ç­‰é•¿æ”¶ç¼©å¼ºåŒ–æ·±å±‚å°è‚Œç¾¤ã€‚', p2_feel: 'å…³èŠ‚äº§ç”Ÿ<strong>æå¼ºåŒ…è£¹æ„Ÿ</strong>ï¼Œä¸å‘è™šã€‚',
                p3_name: 'åŠ¨æ€è„±æ•ä¸èµ›åœºé‡è¿”', p3_time: 'åŠå¹´é‡è¿” (ç¬¬ 4-6 ä¸ªæœˆ)', p3_sessions: '40 - 60 èŠ‚', p3_min: 40, p3_max: 60,
                p3_goal: 'é‡å»ºæœ¬ä½“æ„Ÿè§‰ï¼Œ<strong>é€‚åº”å¤æ‚è¿åŠ¨è½¨è¿¹</strong>ã€‚', p3_tech: 'é—­é“¾ä¸ä¸å¹³è¡¡ä»‹è´¨é«˜é˜¶ç¥ç»è°ƒæ§ã€‚', p3_feel: 'èƒ½å¤Ÿ<strong>è‡ªä¿¡å®Œæˆè·‘è·³åŠ¨ä½œ</strong>ï¼Œæ— æƒ§æŸä¼¤ã€‚',
                img1: 'https://images.unsplash.com/photo-1609899517237-77d357b03007?auto=format&fit=crop&w=600&q=80',
                img2: 'https://images.unsplash.com/photo-1576678927484-cc907957088c?auto=format&fit=crop&w=600&q=80',
                img3: 'https://images.unsplash.com/photo-1552674605-db6ffd4facb5?auto=format&fit=crop&w=600&q=80',
                txt1: 'åˆæœŸé•‡ç—›ï¼šè½¯ç»„ç»‡å‹åŠ›é‡Šæ”¾ï¼Œç–¼ç—›æ¶ˆå¤±',
                txt2: 'è¿›é˜¶æŠ¤ç”²ï¼šå…³èŠ‚å‘¨å›´åŠ›é‡å¢å¼ºï¼Œç¨³å®šæ€§å»ºç«‹',
                txt3: 'æ»¡è¡€é‡è¿”ï¼šæ— æƒ§ä»»ä½•å‘åŠ›ï¼Œé‡è¿”é«˜å¼ºåº¦è¿åŠ¨'
            },
            'antiaging': {
                type: 'regular',
                icon: '<svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>',
                title: 'æ´»åŠ›ä½“èƒ½ä¸çŠ¶æ€ç„•æ–°', desc: 'æå‡éª¨å¯†åº¦ä¸è‚Œè‚‰å‚¨å¤‡ï¼Œä¸ºæ‚¨æ‰“é€ ä¸è€çš„è‚‰ä½“ç›”ç”²ã€‚',
                p1_name: 'æœºèƒ½å”¤é†’ä¸æ¶¦æ»‘ç³»ç»Ÿ', p1_time: 'é¦–æœˆæ¶¦æ»‘ (1-4å‘¨)', p1_sessions: '12 - 16 èŠ‚', p1_min: 12, p1_max: 16,
                p1_goal: 'ä¿ƒè¿›æ»‘æ¶²åˆ†æ³Œï¼Œ<strong>æ¢å¤ç”Ÿé”ˆå¡é¡¿çš„æœºèƒ½</strong>ã€‚', p1_tech: 'å…³èŠ‚æ´»åŠ¨åº¦(Mobility)ä¸ç­‹è†œé“¾æ‹‰ä¼¸ã€‚', p1_feel: '<strong>æ™¨èµ·åƒµç¡¬æ„Ÿæ¶ˆå¤±ï¼Œç¡çœ å˜å¥½</strong>ã€‚',
                p2_name: 'éª¨å¯†åº¦ä¸é˜²æµå¤±å‚¨å¤‡', p2_time: 'å‚¨å¤‡æ„å»º (ç¬¬ 2-3 ä¸ªæœˆ)', p2_sessions: '24 - 36 èŠ‚', p2_min: 24, p2_max: 36,
                p2_goal: 'åˆºæ¿€æˆéª¨ç»†èƒæ´»è·ƒï¼Œ<strong>æš´åŠ›å¯¹æŠ—è‚Œè‚‰èç¼©</strong>ã€‚', p2_tech: 'é‡ç‰©æŠ—é˜»é…åˆæ…¢é€Ÿç¦»å¿ƒæ”¶ç¼©æŠ€æœ¯ã€‚', p2_feel: 'æ‹é‡ç‰©ä¸åƒåŠ›ï¼Œ<strong>ä¸‹æ¥¼æ¢¯è†ç›–ç»ä¸å‘è½¯</strong>ã€‚',
                p3_name: 'å¼•æ“é‡ç½®ä¸è·å°”è’™å”¤é†’', p3_time: 'å¹´åº¦å†»é¾„ (4-12æœˆ)', p3_sessions: '72 - 150 èŠ‚', p3_min: 72, p3_max: 150,
                p3_goal: 'æå‡æœ€å¤§æ‘„æ°§é‡ï¼Œç”±å†…è€Œå¤–ç„•å‘<strong>æè‡´å¹´è½»æ€</strong>ã€‚', p3_tech: 'ç¨³æ€æœ‰æ°§ä¸å¿ƒç‡å˜å¼‚ç‡ç§‘å­¦ç›‘æ§ã€‚', p3_feel: 'çˆ¬æ¥¼æ¢¯ä¸å–˜ï¼Œ<strong>æ°”è‰²çº¢æ¶¦ï¼Œæ¯”åŒé¾„äººæ›´æ˜¾å¹´è½»</strong>ã€‚',
                img1: 'https://images.unsplash.com/photo-1518611012118-696072aa579a?auto=format&fit=crop&w=600&q=80',
                img2: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&w=600&q=80',
                img3: 'https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?auto=format&fit=crop&w=600&q=80',
                txt1: 'åˆæœŸå”¤é†’ï¼šå…³èŠ‚æ¶¦æ»‘ï¼Œèº«ä½“æ¢å¤æŸ”éŸ§è‡ªç”±',
                txt2: 'è¿›é˜¶å‚¨å¤‡ï¼šéª¨å¯†æå‡ï¼Œè‚Œè‚‰å¼ åŠ›é‡è¿”å¹´è½»',
                txt3: 'é€†é¾„å†»é¾„ï¼šå¿ƒè‚ºå¼•æ“é‡ç½®ï¼Œç»å¯¹æ´»åŠ›çš„å·…å³°çŠ¶æ€'
            }
        };

        let currentPlanKey = '';

        function openDetail(key) {
            currentPlanKey = key;
            const data = planData[key];
            const modal = document.getElementById('detailModal');
            const body = document.getElementById('modalBody');
            
            body.innerHTML = `
                <div class="hero-banner">
                    <div class="hero-watermark">${data.icon}</div>
                    <div class="m-hero-title">${data.title}</div>
                    <div class="m-hero-desc">${data.desc}</div>
                </div>
                
                <div class="phase-title-main">è¯·ç‚¹é€‰æ‚¨æœŸæœ›è¾¾æˆçš„é‡å¡‘ç›®æ ‡</div>
                
                <div class="phase-box selected" data-phase="1" data-min="${data.p1_min}" data-max="${data.p1_max}" onclick="togglePhase(this)">
                    <div class="check-circle"></div>
                    <div class="p-step">â— PHASE 01 / ç¬¬ä¸€é˜¶æ®µ</div>
                    <div class="p-cycle-highlight">
                        <div class="cycle-row"><span class="icon">â±</span> æ—¶é—´å‘¨æœŸï¼š<span class="highlight-text">${data.p1_time}</span></div>
                    </div>
                    <div class="p-name">${data.p1_name}</div>
                    <div class="sales-points">
                        <div class="sp-row"><div class="sp-tag tag-goal">æ ¸å¿ƒç›®æ ‡</div><div class="sp-text">${data.p1_goal}</div></div>
                        <div class="sp-row"><div class="sp-tag tag-tech">å¹²é¢„æ‰‹æ®µ</div><div class="sp-text">${data.p1_tech}</div></div>
                        <div class="sp-row"><div class="sp-tag tag-feel">å®¢æˆ·ä½“æ„Ÿ</div><div class="sp-text">${data.p1_feel}</div></div>
                    </div>
                </div>

                <div class="phase-box" data-phase="2" data-min="${data.p2_min}" data-max="${data.p2_max}" onclick="togglePhase(this)">
                    <div class="check-circle"></div>
                    <div class="p-step">â— PHASE 02 / ç¬¬äºŒé˜¶æ®µ</div>
                    <div class="p-cycle-highlight">
                        <div class="cycle-row"><span class="icon">â±</span> æ—¶é—´å‘¨æœŸï¼š<span class="highlight-text">${data.p2_time}</span></div>
                    </div>
                    <div class="p-name">${data.p2_name}</div>
                    <div class="sales-points">
                        <div class="sp-row"><div class="sp-tag tag-goal">æ ¸å¿ƒç›®æ ‡</div><div class="sp-text">${data.p2_goal}</div></div>
                        <div class="sp-row"><div class="sp-tag tag-tech">å¹²é¢„æ‰‹æ®µ</div><div class="sp-text">${data.p2_tech}</div></div>
                        <div class="sp-row"><div class="sp-tag tag-feel">å®¢æˆ·ä½“æ„Ÿ</div><div class="sp-text">${data.p2_feel}</div></div>
                    </div>
                </div>

                <div class="phase-box" data-phase="3" data-min="${data.p3_min}" data-max="${data.p3_max}" onclick="togglePhase(this)">
                    <div class="check-circle"></div>
                    <div class="p-step">â— PHASE 03 / ç¬¬ä¸‰é˜¶æ®µ</div>
                    <div class="p-cycle-highlight">
                        <div class="cycle-row"><span class="icon">â±</span> æ—¶é—´å‘¨æœŸï¼š<span class="highlight-text">${data.p3_time}</span></div>
                    </div>
                    <div class="p-name">${data.p3_name}</div>
                    <div class="sales-points">
                        <div class="sp-row"><div class="sp-tag tag-goal">æ ¸å¿ƒç›®æ ‡</div><div class="sp-text">${data.p3_goal}</div></div>
                        <div class="sp-row"><div class="sp-tag tag-tech">å¹²é¢„æ‰‹æ®µ</div><div class="sp-text">${data.p3_tech}</div></div>
                        <div class="sp-row"><div class="sp-tag tag-feel">å®¢æˆ·ä½“æ„Ÿ</div><div class="sp-text">${data.p3_feel}</div></div>
                    </div>
                </div>

                <div class="visual-feedback-section">
                    <div class="fb-header">âœ¦ AI ç†æƒ³å½¢æ€æŠ•å°„ âœ¦</div>
                    <div class="visual-card">
                        <img id="visual-img" class="visual-img" src="${data.img1}" alt="å½¢æ€æ¼”å˜">
                        <div class="visual-overlay">
                            <div class="visual-title" id="visual-title">PHASE 01: åŸºç¡€é‡å¡‘</div>
                            <div class="visual-desc" id="visual-desc">${data.txt1}</div>
                        </div>
                    </div>
                </div>
            `;
            
            modal.classList.add('show');
            updateCheckout(); 
        }

        function closeDetail() {
            document.getElementById('detailModal').classList.remove('show');
        }

        // ç‚¹å‡»é˜¶æ®µæ¡†çš„é€»è¾‘
        function togglePhase(el) {
            el.classList.toggle('selected');
            updateCheckout();
        }

        // ğŸš¨ æ ¸å¿ƒç®—æ³•ï¼šè‡ªåŠ¨è®¡ç®—è´­ç‰©è½¦é‡‘é¢ä¸è”åŠ¨å›¾ç‰‡
        function updateCheckout() {
            let totalMin = 0;
            let totalMax = 0;
            let maxPhaseSelected = 0;
            
            // éå†æ‰€æœ‰é€‰ä¸­çš„æ¡†ï¼Œç´¯åŠ è¯¾æ—¶
            document.querySelectorAll('.phase-box.selected').forEach(box => {
                totalMin += parseInt(box.getAttribute('data-min'));
                totalMax += parseInt(box.getAttribute('data-max'));
                let p = parseInt(box.getAttribute('data-phase'));
                if(p > maxPhaseSelected) maxPhaseSelected = p;
            });
            
            const btn = document.getElementById('btn-checkout');
            const valDisplay = document.getElementById('calc-val');
            const priceDisplay = document.getElementById('calc-price');
            
            const data = planData[currentPlanKey];

            // è”åŠ¨æ›´æ–° AI è§†è§‰å›¾
            const vImg = document.getElementById('visual-img');
            const vTitle = document.getElementById('visual-title');
            const vDesc = document.getElementById('visual-desc');

            if(maxPhaseSelected === 0) {
                // æ²¡é€‰æ—¶ç½®ç°ï¼Œå›¾ç‰‡å˜æš—
                vImg.style.filter = 'brightness(0.3) grayscale(1)';
                vTitle.innerText = 'è¯·é€‰æ‹©æ‚¨çš„èœ•å˜ç›®æ ‡';
                vDesc.innerText = 'ç‚¹é€‰ä¸Šæ–¹é˜¶æ®µï¼ŒAIå°†ä¸ºæ‚¨æŠ•å°„å¯¹åº”å½¢æ€';
                
                valDisplay.innerHTML = '<span style="color:#666; font-size:12px;">å¾…é€‰æ‹©ç›®æ ‡</span>';
                priceDisplay.innerHTML = 'Â¥ --';
                btn.classList.add('disabled');
            } else {
                // æ ¹æ®é€‰ä¸­çš„æœ€é«˜é˜¶æ®µï¼Œå±•ç¤ºæœ€ç»ˆç»“æœå›¾
                vImg.style.filter = 'brightness(0.7) contrast(1.2)';
                if(maxPhaseSelected === 1) {
                    vImg.src = data.img1;
                    vTitle.innerText = 'PHASE 01: åŸºç¡€è¾¾æˆ';
                    vDesc.innerText = data.txt1;
                } else if(maxPhaseSelected === 2) {
                    vImg.src = data.img2;
                    vTitle.innerText = 'PHASE 02: è¿›é˜¶èœ•å˜';
                    vDesc.innerText = data.txt2;
                } else {
                    vImg.src = data.img3;
                    vTitle.innerText = 'PHASE 03: ç»ˆå±€å®šå‹';
                    vDesc.innerText = data.txt3;
                }

                // æ ¸å¿ƒï¼šè®¡ç®—ä»·æ ¼ï¼
                // è·å–å½“å‰åŒºé—´çš„å•ä»·
                let unitPriceMin = getUnitPrice(totalMin, data.type);
                let unitPriceMax = getUnitPrice(totalMax, data.type);
                
                let moneyMin = totalMin * unitPriceMin;
                let moneyMax = totalMax * unitPriceMax;

                valDisplay.innerHTML = `${totalMin} - ${totalMax} <span>èŠ‚</span>`;
                priceDisplay.innerHTML = `Â¥ ${formatMoney(moneyMin)} <span style="font-size:12px; color:#888; font-weight:normal;">èµ·</span>`;
                
                btn.classList.remove('disabled');
                if(navigator.vibrate) navigator.vibrate(50);
            }
        }
    </script>
</body>
</html>
