<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIP ä¼šå‘˜ä½“æ€å…¨æ¯æ¡£æ¡ˆ - å›½å†…ç‰¹ä¾›ç§’å¼€ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.staticfile.net/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.staticfile.net/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* æ›¿æ¢ä¸ºå›½å†… Loli å­—ä½“é•œåƒåŠ é€ŸèŠ‚ç‚¹ï¼Œç¡®ä¿ç§‘æŠ€è‹±æ–‡å­—ä½“ç§’å¼€ */
        @import url('https://fonts.loli.net/css2?family=Orbitron:wght@400;700&family=Noto+Sans+SC:wght@300;500;700&display=swap');
        
        body { background-color: #0b0f19; font-family: 'Noto Sans SC', sans-serif; color: #e2e8f0; }
        .glass-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .data-value { font-family: 'Orbitron', sans-serif; font-size: 1.6rem; font-weight: 700; }
        .trend-down { color: #10b981; } 
        .trend-up { color: #ef4444; } 
        .muscle-up { color: #10b981; } 
        [contenteditable="true"] { outline: none; transition: all 0.2s; border-radius: 0.25rem; }
        [contenteditable="true"]:hover { background-color: rgba(255, 255, 255, 0.1); box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.5); cursor: text; padding: 0 4px; }
        [contenteditable="true"]:focus { background-color: rgba(0, 0, 0, 0.5); box-shadow: 0 0 0 2px rgba(6, 182, 212, 1); padding: 0 4px; }
        ::-webkit-scrollbar { display: none; }
        .select-none { user-select: none; } 
    </style>
</head>
<body class="p-6 md:p-10 min-h-screen flex flex-col items-center" id="capture-area">

    <div class="w-full max-w-7xl flex flex-col md:flex-row justify-between items-center mb-8 gap-6 select-none">
        <div>
            <h1 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 tracking-wider">SHANGHAI LUXIOU <span class="text-gray-400 text-lg ml-2 font-normal">å…¨æ¯ä½“æµ‹ä¸­æ¢ v7.0</span></h1>
            <div class="flex gap-4 mt-2 text-xs text-cyan-400/80 tracking-widest uppercase">
                <span>æ€§åˆ«: <span contenteditable="true" class="text-white">ç”·</span></span>
                <span>å¹´é¾„: <span contenteditable="true" class="text-white">28</span></span>
                <span>èº«é«˜: <span contenteditable="true" class="text-white">175cm</span></span>
                <span>ç”Ÿæ—¥: <span contenteditable="true" class="text-white">MM/DD</span></span>
            </div>
        </div>
        
        <div class="flex gap-4">
            <button onclick="downloadPoster()" class="no-print bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white font-bold py-2 px-6 rounded-full shadow-[0_0_15px_rgba(6,182,212,0.4)] transition transform hover:scale-105">
                ğŸ“¸ ä¸€é”®ä¿å­˜æµ·æŠ¥
            </button>
            <div contenteditable="true" class="bg-gray-800 border border-cyan-500/50 text-cyan-400 py-2 px-6 rounded-full focus:outline-none focus:ring-2 focus:ring-cyan-500 font-bold min-w-[200px] text-center">
                ğŸŸ¡ VIP: ç‚¹å‡»æ”¹å (ç¬¬ 30 è¯¾æ—¶)
            </div>
        </div>
    </div>

    <div class="w-full max-w-7xl grid grid-cols-1 lg:grid-cols-[1fr_1.5fr_1fr] gap-6">

        <div class="glass-card p-5 flex flex-col gap-4">
            <h2 class="text-xl border-b border-gray-700 pb-2 mb-1 font-bold tracking-widest text-gray-300 select-none">VISION <span class="text-sm text-cyan-400 ml-1">ä½“æ€å¯¹æ¯”</span></h2>
            
            <div class="relative group rounded-lg overflow-hidden border border-gray-600 h-[220px]">
                <div class="absolute top-2 left-2 bg-black/60 px-2 py-1 text-xs rounded text-gray-300 z-10 select-none">å…¥ä¼šå‰ (Before)</div>
                <input type="file" id="uploadBefore" class="hidden" accept="image/*" onchange="previewImage(event, 'imgBefore', 'textBefore')">
                <label for="uploadBefore" class="cursor-pointer h-full w-full bg-gradient-to-br from-gray-700 to-gray-600 flex items-center justify-center text-gray-400 relative hover:opacity-80 transition">
                    <span id="textBefore" class="select-none">ç‚¹å‡»æ­¤å¤„é€‰æ‹©å…¥ä¼šå‰ç…§ç‰‡</span>
                    <img id="imgBefore" class="absolute inset-0 w-full h-full object-cover hidden">
                </label>
            </div>

            <div class="relative group rounded-lg overflow-hidden border border-cyan-500/50 shadow-[0_0_20px_rgba(6,182,212,0.15)] h-[220px]">
                <div class="absolute top-2 left-2 bg-cyan-900/80 px-2 py-1 text-xs rounded text-cyan-300 z-10 border border-cyan-500 select-none">å½“å‰ (Current)</div>
                <input type="file" id="uploadAfter" class="hidden" accept="image/*" onchange="previewImage(event, 'imgAfter', 'textAfter')">
                <label for="uploadAfter" class="cursor-pointer h-full w-full bg-gradient-to-br from-gray-800 to-gray-700 flex items-center justify-center text-cyan-600 font-bold relative hover:opacity-80 transition">
                    <span id="textAfter" class="select-none">ç‚¹å‡»æ­¤å¤„é€‰æ‹©æœ€æ–°ç…§ç‰‡</span>
                    <img id="imgAfter" class="absolute inset-0 w-full h-full object-cover hidden">
                </label>
            </div>
        </div>

        <div class="glass-card p-5 flex flex-col">
            <h2 class="text-xl border-b border-gray-700 pb-2 mb-4 font-bold tracking-widest text-gray-300 select-none">METRICS <span class="text-sm text-cyan-400 ml-1">æ ¸å¿ƒç”ŸåŒ–æŒ‡æ ‡</span></h2>
            
            <div class="grid grid-cols-2 gap-3 flex-grow">
                
                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">ä½“é‡ (Weight)</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value" id="val-weight" contenteditable="true" oninput="autoUpdateRadar()">48.0</span><span class="text-xs text-gray-500 pb-1 select-none">kg</span>
                    </div>
                    <p class="text-[10px] mt-1 trend-down font-bold">â–¼ <span contenteditable="true">7.5</span> kg</p>
                </div>

                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">ä½“è„‚ç‡ (Body Fat)</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value" id="val-bf" contenteditable="true" oninput="autoUpdateRadar()">21.5</span><span class="text-xs text-gray-500 pb-1 select-none">%</span>
                    </div>
                    <p class="text-[10px] mt-1 trend-down font-bold">â–¼ <span contenteditable="true">10.6</span> %</p>
                </div>

                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">éª¨éª¼è‚Œ (Muscle)</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value" id="val-muscle" contenteditable="true" oninput="autoUpdateRadar()">23.5</span><span class="text-xs text-gray-500 pb-1 select-none">kg</span>
                    </div>
                    <p class="text-[10px] mt-1 muscle-up font-bold">â–² <span contenteditable="true">1.4</span> kg</p>
                </div>

                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">åŸºç¡€ä»£è°¢ (BMR)</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value text-cyan-300" id="val-bmr" contenteditable="true" oninput="autoUpdateRadar()">1320</span><span class="text-xs text-gray-500 pb-1 select-none">kcal</span>
                    </div>
                    <p class="text-[10px] mt-1 muscle-up font-bold">â–² <span contenteditable="true">120</span> kcal</p>
                </div>

                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">è…°å›´ (Waist)</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value" id="val-waist" contenteditable="true" oninput="autoUpdateRadar()">68.0</span><span class="text-xs text-gray-500 pb-1 select-none">cm</span>
                    </div>
                    <p class="text-[10px] mt-1 trend-down font-bold">â–¼ <span contenteditable="true">13.0</span> cm</p>
                </div>

                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">è‡€å›´ (Hip)</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value text-cyan-300" id="val-hip" contenteditable="true" oninput="autoUpdateRadar()">94.5</span><span class="text-xs text-gray-500 pb-1 select-none">cm</span>
                    </div>
                    <p class="text-[10px] mt-1 muscle-up font-bold">â–² <span contenteditable="true">4.5</span> cm</p>
                </div>

                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">å†…è„è„‚è‚ª (Visceral)</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value" id="val-visceral" contenteditable="true" oninput="autoUpdateRadar()">4</span><span class="text-xs text-gray-500 pb-1 select-none">çº§</span>
                    </div>
                    <p class="text-[10px] mt-1 trend-down font-bold">â–¼ <span contenteditable="true">3</span> çº§</p>
                </div>

                <div class="bg-gray-800/40 p-3 rounded-xl border border-gray-700 hover:border-cyan-500 transition">
                    <p class="text-gray-400 text-xs select-none">BMI æŒ‡æ•°</p>
                    <div class="flex items-end gap-1 mt-1">
                        <span class="data-value text-cyan-300" id="val-bmi" contenteditable="true" oninput="autoUpdateRadar()">20.8</span>
                    </div>
                    <p class="text-[10px] mt-1 trend-down font-bold">â–¼ <span contenteditable="true">3.2</span></p>
                </div>

            </div>
        </div>

        <div class="glass-card p-5 flex flex-col">
            <div class="flex justify-between items-end border-b border-gray-700 pb-2 mb-4 select-none">
                <h2 class="text-xl font-bold tracking-widest text-gray-300">ANALYSIS <span class="text-sm text-cyan-400 ml-1">èƒ½åŠ›çŸ©é˜µ</span></h2>
                <span class="text-[10px] bg-cyan-900/40 text-cyan-300 px-2 py-1 rounded border border-cyan-700/50">âš¡ æ•°æ®è‡ªåŠ¨è”åŠ¨</span>
            </div>
            
            <div class="relative w-full h-52 mb-4">
                <canvas id="radarChart"></canvas>
            </div>
            
            <div class="bg-blue-900/20 border border-blue-500/30 p-3 rounded-lg mt-auto flex flex-col gap-2">
                <div class="flex justify-between items-center select-none">
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 rounded-full bg-cyan-400 animate-pulse"></div>
                        <span class="text-xs font-bold text-cyan-400 tracking-wider">AI COACH ç»¼åˆè¯„ä¼°</span>
                    </div>
                    <button onclick="randomizeQuote()" class="no-print text-xs bg-gray-700 hover:bg-gray-600 text-gray-200 px-2 py-1 rounded transition">ğŸ² éšæœºç”Ÿæˆ</button>
                </div>
                <p id="ai-coach-text" class="text-sm text-gray-300 leading-relaxed min-h-[60px]" contenteditable="true">
                    æå…¶å‡ºè‰²çš„é˜¶æ®µæ€§æˆæœï¼ä½“è„‚è‚ªæŒç»­å¥åº·ä¸‹é™çš„åŒæ—¶ï¼Œéª¨éª¼è‚Œå‚¨å¤‡å’ŒåŸºç¡€ä»£è°¢å¾—åˆ°äº†æœ‰æ•ˆå·©å›ºã€‚è‡€å›´æ•°æ®çš„æå‡è¯´æ˜é’ˆå¯¹æ€§çš„ä¸‹è‚¢å¡‘å½¢è®­ç»ƒæ•ˆæœæ˜¾è‘—ã€‚ç»§ç»­ä¿æŒï¼
                </p>
            </div>
        </div>
    </div>

    <script>
        let myRadarChart;

        const aiQuotes = [
            "æå…¶å‡ºè‰²çš„é˜¶æ®µæ€§æˆæœï¼ä½“è„‚è‚ªæŒç»­å¥åº·ä¸‹é™çš„åŒæ—¶ï¼Œéª¨éª¼è‚Œå‚¨å¤‡å’ŒåŸºç¡€ä»£è°¢å¾—åˆ°äº†æœ‰æ•ˆå·©å›ºã€‚è‡€å›´æ•°æ®çš„æå‡è¯´æ˜é’ˆå¯¹æ€§çš„ä¸‹è‚¢å¡‘å½¢è®­ç»ƒæ•ˆæœæ˜¾è‘—ã€‚ç»§ç»­ä¿æŒï¼",
            "å®Œç¾çš„å¢è‚Œå‡è„‚æ¨¡å‹ã€‚å†…è„è„‚è‚ªç­‰çº§å›å½’å¥åº·åŒºé—´ï¼Œè…°è‡€æ¯”è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œèº«æ'Sæ›²çº¿'è¶Šæ¥è¶Šæ˜æ˜¾ã€‚ä¸‹ä¸€é˜¶æ®µå¯ä»¥è€ƒè™‘å¢åŠ æ ¸å¿ƒå’Œä¸Šè‚¢çš„æŠ—é˜»åŠ›è®­ç»ƒï¼Œè¿›ä¸€æ­¥é›•åˆ»ç»†èŠ‚ã€‚",
            "æ‰§è¡ŒåŠ›æ»¡åˆ†ï¼åœ¨è¿™ä¸ªå‘¨æœŸå†…ï¼Œä¸ä»…ä½“é‡ç¨³æ­¥ä¸‹é™ï¼Œæ›´é‡è¦çš„æ˜¯ä»£è¡¨'æ˜“ç˜¦ä½“è´¨'çš„åŸºç¡€ä»£è°¢ç‡æ­£åœ¨çˆ¬å‡ã€‚ä¸è¦åœ¨æ„çŸ­æœŸçš„æ•°å­—æ³¢åŠ¨ï¼Œç›®å‰çš„ä½“æ€å˜åŒ–è‚‰çœ¼å¯è§ï¼Œç»§ç»­åŠ æ²¹ï¼",
            "çªç ´ç“¶é¢ˆæœŸçš„ä¼˜ç§€æˆ˜æŠ¥ï¼éšç€è…°å›´çš„ç¼©å‡å’Œè‡€å›´çš„æ”¹å–„ï¼Œæ•´ä½“å½¢ä½“æ¯”ä¾‹æ„ˆå‘ä¼˜ç¾ã€‚å¿ƒè‚ºå’Œä»£è°¢èƒ½åŠ›å…¨é¢æå‡ï¼Œè¯æ˜èº«ä½“æ­£åœ¨å‘ç€æå…¶å¥åº·ä¸”å……æ»¡æ´»åŠ›çš„æ–¹å‘è¿›åŒ–ã€‚"
        ];

        function randomizeQuote() {
            const randomIndex = Math.floor(Math.random() * aiQuotes.length);
            document.getElementById('ai-coach-text').innerText = aiQuotes[randomIndex];
        }

        function initChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            Chart.defaults.color = '#94a3b8';
            Chart.defaults.font.family = "'Noto Sans SC', sans-serif";
            
            myRadarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['ä½“è„‚å¥åº·', 'è‚Œè‚‰å‚¨å¤‡', 'ä»£è°¢æ°´å¹³', 'å›´åº¦æ¯”ä¾‹', 'æ ¸å¿ƒè„å™¨'],
                    datasets: [{
                        label: 'å…¥ä¼šå‰åŸºå‡†çº¿',
                        data: [45, 50, 55, 40, 45], 
                        backgroundColor: 'rgba(71, 85, 105, 0.1)',
                        borderColor: 'rgba(148, 163, 184, 0.4)',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        pointRadius: 0
                    }, {
                        label: 'å½“å‰çŠ¶æ€',
                        data: [80, 75, 85, 90, 80], 
                        backgroundColor: 'rgba(6, 182, 212, 0.25)',
                        borderColor: 'rgba(6, 182, 212, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: 'rgba(6, 182, 212, 1)',
                        pointHoverRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            pointLabels: { color: '#cbd5e1', font: { size: 11, weight: 'bold' } },
                            ticks: { display: false, min: 0, max: 100 }
                        }
                    },
                    plugins: { legend: { display: false } }
                }
            });
            autoUpdateRadar();
        }

        function autoUpdateRadar() {
            let bf = parseFloat(document.getElementById('val-bf').innerText) || 0;
            let muscle = parseFloat(document.getElementById('val-muscle').innerText) || 0;
            let waist = parseFloat(document.getElementById('val-waist').innerText) || 0;
            let hip = parseFloat(document.getElementById('val-hip').innerText) || 0;
            let bmr = parseFloat(document.getElementById('val-bmr').innerText) || 0;
            let visceral = parseFloat(document.getElementById('val-visceral').innerText) || 0;

            let scoreFat = 100 - (bf - 15) * 2 - visceral * 1.5;
            let scoreMuscle = muscle * 3.5;
            let scoreBmr = (bmr / 1500) * 100;
            let ratio = hip > 0 ? (waist / hip) : 1;
            let scoreProp = 100 - Math.abs(ratio - 0.7) * 150;
            let scoreCore = 100 - visceral * 5;

            const clamp = (val) => Math.max(10, Math.min(100, val));

            myRadarChart.data.datasets[1].data = [
                clamp(scoreFat), 
                clamp(scoreMuscle), 
                clamp(scoreBmr), 
                clamp(scoreProp), 
                clamp(scoreCore)
            ];
            myRadarChart.update();
        }

        function previewImage(event, imgId, textId) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.getElementById(imgId);
                    img.src = e.target.result; 
                    img.classList.remove('hidden'); 
                    document.getElementById(textId).style.display = 'none'; 
                }
                reader.readAsDataURL(file);
            }
        }

        function downloadPoster() {
            const noPrintElements = document.querySelectorAll('.no-print');
            noPrintElements.forEach(el => el.style.display = 'none');
            
            const originalBg = document.body.style.backgroundColor;
            document.body.style.backgroundColor = '#0b0f19';

            html2canvas(document.getElementById('capture-area'), {
                scale: 2, 
                useCORS: true,
                backgroundColor: '#0b0f19'
            }).then(canvas => {
                noPrintElements.forEach(el => el.style.display = 'block');
                document.body.style.backgroundColor = originalBg;

                let link = document.createElement('a');
                let vipName = document.querySelector('[contenteditable="true"]').innerText.split('(')[0].trim().replace('ğŸŸ¡ VIP: ', '');
                link.download = `STUDIO_PRO_${vipName}_å…¨æ¯æˆ˜æŠ¥.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        }

        window.onload = initChart;
    </script>
</body>
</html>
