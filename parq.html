<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACE标准 PAR-Q+ 问卷 - 上海露希欧</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.staticfile.net/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.loli.net/css2?family=Noto+Sans+SC:wght@300;500;700&display=swap');
        body { 
            background: linear-gradient(135deg, #0f172a, #1e293b, #334155); 
            font-family: 'Noto Sans SC', sans-serif; color: #fff; min-height: 100vh; padding: 20px;
        }
        .glass-card { 
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1.5rem; 
            padding: 24px; margin-bottom: 20px;
        }
        .q-row { display: flex; justify-content: space-between; align-items: flex-start; padding: 16px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .risk-text { color: #f87171; font-weight: bold; }
        input[type="checkbox"] { width: 24px; height: 24px; accent-color: #22d3ee; margin-top: 4px; }
        [contenteditable="true"] { outline: none; border-bottom: 1px dashed rgba(34, 211, 238, 0.3); }
        .save-btn { background: linear-gradient(90deg, #06b6d4, #3b82f6); box-shadow: 0 4px 20px rgba(6, 182, 212, 0.4); }
    </style>
</head>
<body id="capture-area">
    <div class="max-w-md mx-auto">
        <div class="mb-8 px-2">
            <h1 class="text-2xl font-bold tracking-widest text-cyan-400">PAR-Q+</h1>
            <p class="text-xs opacity-60 mt-1 italic">体力活动准备问卷 (ACE标准版)</p>
        </div>

        <div class="glass-card">
            <p class="text-[11px] text-gray-400 mb-6 leading-relaxed">如果您准备增加体力活动，请回答以下 7 个问题。这有助于判断您在开始前是否需要咨询医生。</p>
            
            <div class="q-row">
                <span class="text-[14px] leading-snug pr-4" contenteditable="true">1. 医生是否曾说过您的心脏有问题，或建议您只能在监控下运动？</span>
                <input type="checkbox" onchange="checkRisk(this)">
            </div>
            <div class="q-row">
                <span class="text-[14px] leading-snug pr-4" contenteditable="true">2. 您在休息时、日常生活或体力活动时是否有过胸痛？</span>
                <input type="checkbox" onchange="checkRisk(this)">
            </div>
            <div class="q-row">
                <span class="text-[14px] leading-snug pr-4" contenteditable="true">3. 您是否曾因失去平衡而跌倒，或在过去12个月内曾失去意识（晕厥）？</span>
                <input type="checkbox" onchange="checkRisk(this)">
            </div>
            <div class="q-row">
                <span class="text-[14px] leading-snug pr-4" contenteditable="true">4. 您是否曾被诊断患有其他慢性疾病（如糖尿病、肾病等）？</span>
                <input type="checkbox" onchange="checkRisk(this)">
            </div>
            <div class="q-row">
                <span class="text-[14px] leading-snug pr-4" contenteditable="true">5. 您目前是否因某种慢性病正在服用医生开具的处方药物？</span>
                <input type="checkbox" onchange="checkRisk(this)">
            </div>
            <div class="q-row">
                <span class="text-[14px] leading-snug pr-4" contenteditable="true">6. 您是否有因身体活动而加重的骨骼、关节或软组织问题？</span>
                <input type="checkbox" onchange="checkRisk(this)">
            </div>
            <div class="q-row">
                <span class="text-[14px] leading-snug pr-4" contenteditable="true">7. 医生目前是否因为您的血压问题而给您开药？</span>
                <input type="checkbox" onchange="checkRisk(this)">
            </div>
        </div>

        <div class="glass-card">
            <div class="mb-4">
                <label class="text-[10px] text-cyan-400 block mb-1">会员声明</label>
                <p class="text-[11px] text-gray-300 leading-tight">本人已如实告知健康状况。若上述回答均为“否”，则表示我可以开始循序渐进的运动方案。</p>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-6">
                <div class="border-b border-white/20 pb-1">
                    <span class="text-[10px] block opacity-50">会员签名</span>
                    <div contenteditable="true" class="font-bold py-1 text-cyan-400">点击输入</div>
                </div>
                <div class="border-b border-white/20 pb-1">
                    <span class="text-[10px] block opacity-50">确认日期</span>
                    <div id="currentDate" class="py-1">2026-02-22</div>
                </div>
            </div>
        </div>

        <button onclick="saveSurvey()" class="w-full py-4 rounded-2xl font-bold tracking-widest save-btn text-white transition-all active:scale-95">完成评估并保存长图</button>
        
        <p class="text-[10px] text-center mt-6 opacity-30 tracking-widest">SHANGHAI LUXIOU | DIGITAL COMPLIANCE</p>
    </div>

    <script>
        function checkRisk(el) {
            const row = el.closest('.q-row');
            if (el.checked) {
                row.querySelector('span').classList.add('risk-text');
            } else {
                row.querySelector('span').classList.remove('risk-text');
            }
        }

        function saveSurvey() {
            const btn = document.querySelector('button');
            btn.style.opacity = '0';
            html2canvas(document.getElementById('capture-area'), {
                backgroundColor: '#0f172a',
                scale: 2
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `ACE_PARQ_LUXIOU_${new Date().getTime()}.png`;
                link.href = canvas.toDataURL();
                link.click();
                btn.style.opacity = '1';
            });
        }
    </script>
</body>
</html>
